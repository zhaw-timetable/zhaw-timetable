import { Head, Notes } from 'mdx-deck';
export { default as theme } from './theme';
import Carbon from './components/Carbon/Carbon.jsx';

<Head>
  <title>ZHAWo - Platform Independent Timetable App</title>
</Head>

# ZHAWo

## Platform Independent Timetable App

### Bachmann Dominik, Visser Julian

---

# Development

---

## Primary functions

- Timetable
- Mensa
- Room search
- vszhaw news

---

## User stories

- US10: As a student I want to view my timetable for a day
- US11: As a student I want to view my timetable for a weeks
- US12: As a student I want to navigate to the current day
- US13: As a student I want to navigate between days when using the day view
- ...

---

## GitHub issues

![](./Assets/github_issues.png)

---

## Sprints

![](./Assets/github_sprints.png)

---

## Testing

- Run unit tests before pushing code
- Tracking code test coverage with codecov

---

## Continuous integration

![](./Assets/travis_dashboard.png)

---

## Sprint reviews

![](./Assets/sprint_burndown.png)

---

# Implementation

---

## Architecture

![](./Assets/architecture.png)

---

## Flux pattern

![](./Assets/flux_diagram.png)

---

## Code example

- US13: As a student I want to navigate between days when using the day view

---

## Code example

![](./Assets/navigation_screens.png)

---

## View / React component

<Carbon>
  {`
  handleDateClick = newDate => e => {
    scheduleActions.gotoDay(newDate);
  }; 
    `}
</Carbon>

---

## Action dispatcher

<Carbon>
  {`
  export const gotoDay = targetDate => {
    dispatcher.dispatch({
      type: 'GOTO_DAY',
      payload: targetDate
    });
  };
    `}
</Carbon>

---

## Store

<Carbon>
  {`
  async handleActions(action) {
    switch (action.type) {
      case 'GOTO_DAY':
        const targetDate = action.payload;
        this.displayDay = this.convertSunday(targetDate);
        this.displayWeek = this.createDisplayWeek(this.displayDay);
        this.displayMonth = this.createDisplayMonth(this.displayDay);
        this.emit('schedule_changed');
        break;
    }
  }
  `}
</Carbon>

---

## View update

<Carbon>
  {`
  componentWillMount() {
    scheduleStore.on('schedule_changed', this.refreshSchedule);
  }
  refreshSchedule = () => {
    this.setState({
      displayDay: scheduleStore.displayDay,
      schedule: scheduleStore.schedule
    });
  };
`}

</Carbon>

---

# The end
